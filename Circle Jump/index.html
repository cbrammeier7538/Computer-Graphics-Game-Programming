<!DOCTYPE html>
<html>
<head>
    <title>Circle Jump</title>
    <link href="./style.css" rel"stylesheet">
</head>
<body>
    <canvas id="canv"></canvas>
    <!-- <script src="./Engine/scripts.js"></script>
    <script src="./Engine/time.js"></script>
    <script src="./Engine/Component.js"></script>
    <script src="./Engine/GameObject.js"></script>
    <script src="./Game/CircleDrawComponent.js"></script>
    <script src="./Game/CircleUpdateComponent.js"></script>
    <script src="./Game/CircleGameObject.js"></script>
    <script src="RectangleDrawComponent.js"></script>
    <script src="RectangleGameObject.js"></script>
    <script src="RectangleUpdateComponent.js"></script>-->
<script type = "module">
    "use strict"

    import {getCanvas} from "./Engine/scripts.js"
    import Time from "./Engine/Time.js"
    import Input from "./Engine/Input.js"
    //import CircleGameObject from "./Game/CircleGameObject.js";
    //import CircleUpdateComponent from "./Game/CircleUpdateComponent.js";
    //import RectangleDrawComponent from "./Engine/RectangleDrawComponent.js"
    //import RectangleGameObject from "./Game/RectangleGameObject.js";
    //import RectangleUpdateComponent from "./Game/RectangleUpdateComponent.js";
    import Game from "./Engine/Game.js"
    import MainScene from "./Game/MainScene.js"
    import StartScene from "./Game/StartScene.js"
    import Constants from "./Game/Constants.js"
    import Constants2 from "./Game/Constants2.js"

    Input.attach(document);


    let { canvas, ctx } = getCanvas();

    let scene = new MainScene();
    let startScene = new StartScene();
    Game.scenes.push(startScene);
    Game.scenes.push(scene);
    Game.changeScene(0);

    //gameObjects.push(new CircleGameObject(Constants.x,Constants.y,Constants.r,Constants.s,Constants.e,Constants.c));
   // gameObjects.push(new RectangleGameObject(Constants2.recX,Constants2.recY,Constants2.width,Constants2.height,Constants2.color));
    //gameObjects.push(new RectangleGameObject(Constants2.recX + 1000, Constants2.recY, Constants2.width + 50, Constants2.height + 50, "grey"));
    //gameObjects.push(new RectangleGameObject(Constants2.recX + 500, Constants2.recY, Constants2.width + 50, Constants2.height, Constants2.color));
    //gameObjects.push(new RectangleGame)
    /*let circles = []
    let max = Constants.max;
    let x = Constants.x;
    let y = Constants.y;
    let r = Constants.r;
    let s = Constants.s;
    let e = Constants.e;
    let c = Constants.c;
    let singlecirc = 1;
    for(let i = 0; i < singlecirc; i++){
        let toAdd = {}
        toAdd.x = x;
        toAdd.y = y;
        toAdd.r = r;
        toAdd.s = s;
        toAdd.e = e;
        toAdd.c = c;
        circles.push(new CircleGameObject(toAdd.x,toAdd.y,toAdd.r,toAdd.s,toAdd.e,toAdd.c));
    }*/

    /*let rectangles = []
    let max2 = 1;
    let recX = Constants2.recX;
    let recY = Constants2.recY;
    let width = Constants2.width;
    let height = Constants2.height;
    let color = Constants2.color;
    for(let i = 0; i < max2; i++){
        let toAdd2 = {};
        toAdd2.recX = recX;
        toAdd2.recY = recY;
        toAdd2.width = width;
        toAdd2.height = height;
        toAdd2.color = color;
        rectangles.push(new RectangleGameObject(toAdd2.recX,toAdd2.recY,toAdd2.width,toAdd2.height,toAdd2.color));
        toAdd2.recX = recX + 1000;
        toAdd2.recY = recY;
        toAdd2.width = width + 50;
        toAdd2.height = height + 50;
        toAdd2.color = "grey";
        rectangles.push(new RectangleGameObject(toAdd2.recX,toAdd2.recY,toAdd2.width,toAdd2.height,toAdd2.color));
        toAdd2.recX = recX + 500;
        toAdd2.recY = recY;
        toAdd2.width = width + 50;
        toAdd2.height = height;
        toAdd2.color = color;
        rectangles.push(new RectangleGameObject(toAdd2.recX,toAdd2.recY,toAdd2.width,toAdd2.height,toAdd2.color));
    }

    /*let bullets = []

    let recX2 = 0;
    let recY2 = 0;
    let offsetX2 = 50;
    let width2 = 100;
    let height2 = 30;
    let color2 = "red";
    let max3 = 1;

    function uploadBullet(){
        for(let i = 0; i < max3; i++){
            let toAdd3 = {}
            toAdd3.recX2 = 300;
            toAdd3.recY2 = 300;
            toAdd3.width2 = width2;
            toAdd3.height2 = height2;
            toAdd3.color2 = color2;
            bullets.push(toAdd3)
        }
    }*/
    

    function tick(){
        Game.updateScene();
        Input.update();
        Game.scene().update(ctx);
        Game.scene().draw(ctx);
        Game.scene().remove();
        Time.timePassed += Time.secondsBetweenFrame;
    }
    setInterval(tick, Time.millisecondsBetweenFrames)
    </script>
</body>
</html>